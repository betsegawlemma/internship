\chapter{Introduction}
\label{chapter:intro}
According to the report released by Cisco in June 2017, "The Zettabyte Era"~\cite{zetta}, the number of networked devices is expected to increase from 17.1 billion in 2016 to 27.1 billion in 2021. In another report entitled "Cisco Global Cloud Index, 2015 to 2020"~\cite{gci}, Cisco estimates that global cloud IP traffic will grow more than three times by 2020 and, among all the workloads processed in data-centers, by the year 2020, 92\% of them will be handled in cloud data-centers. The remaining 8\% will be processed in traditional data-centers. In response to these growing trends, the data-centers are continuously expanding. This expansion raises a primary concern on the amount of energy required to support the added data-center components and the growing service demands. 

The energy consumption issue is further aggravated due to the fact that current servers and network devices are energy inefficient. Of the total power consumed by a given computing or communication device, the idle power consumption takes the greater proportion~\cite{survey}. IT equipment is considered energy efficient when it consumes power proportionally to the amount of computing or data transfer task it performs. Currently there are different techniques implemented at a device level to tackle the energy inefficiency problem. For computing device, for instance, the operating frequency of the CPU can be lowered when the amount of computing goes below some threshold value~\cite{dvs}. Similarly, for a communicating device, the data transferring rate can be lowered (a.k.a, adaptive link rate mode) depending on the traffic~\cite{ALR} or the device can be set to sleep (a.k.a, low power mode) when there is no traffic~\cite{LPI}. However, these techniques are not fully utilized, as they induce performance penalty when switch from one mode to another.  

The energy consumption issue is primarily driven by economical factor -- to save energy consumption bills -- and environmental factors -- to reduce \($$CO_2$$\) emission. There are also other secondary factors, such as reducing the heat generated by a given IT device. The more energy inefficient a device is the more heat it generates. This internally affects the life time and proper functioning of the device. 

Currently researchers are tackling the energy consumption issue at different levels. At device level, for instance, it consists in finding new energy saving techniques or optimizing the existing ones. At infrastructure level, it can range from finding energy aware routing algorithms for network devices to energy efficient load balancing and workload assignment of servers. 

There are three approaches that are commonly in use for conducting energy related research experiments at the infrastructure level. The first approach is to experiment on a real network. Though in this approach one might get the most real picture of the situation at a given moment, it will be very difficult to repeat the experiment on other real networks due to the transient nature of the experimental parameters such as workload and network traffic.  Furthermore, the real network might not be available for experimentation. The second approach is to use an experimental test-bed. This approach gives full control over the experiment parameters. However, when the platform under investigation becomes very large, it will be infeasible to set-up a test-bed for it due to the hardware cost involved. In addition, experimenting on a new hypothesis might require setting up a new test-bed with a new hardware and different configuration. This also becomes costly and time consuming. The third approach is to use simulation software for experimentation. This approach gives the ultimate control, flexibility and scalability compared to the other two. The main challenge though is accurately modeling the real characteristics of the components involved in the problem at hand.

In the context of computer networking, we can classify simulators into two kinds: packet-level and flow-level simulators. Packet-level simulators strive to capture fine-grain details of a given network phenomenon. Flow-level simulators, on the other hand, use analytical equations that approximate the behavior of the phenomenon being modeled using often few parameters. Compared to flow-level simulators, packet-level simulators are considered more accurate due to the detailed information they try to capture. However, they fail to scale well due to the time and storage they need to process and store the captured information. A typical example of packet-level simulator is NS-3, and of flow-level simulator is SimGrid, a large-scale distributed network simulator. 

Despite the advantages network simulators can offer for studying the energy consumption problem that exists in large-scale networks, search of the literature revealed only few packet-level simulators proposed to address the issue. As we have mentioned earlier, packet-level simulators can not scale well in the area of large-scale networks. Currently, to our knowledge, there is no flow-level simulator proposed that can simulate the energy consumption of computing and communication components of large-scale networks. 

Therefore, the purpose of this study is to investigate the level of accuracy of flow-level energy consumption simulators for estimating energy consumption of large-scale networks. To fulfill this purpose we use the SimGrid simulator. SimGrid already has an energy consumption model for computing components, our work is limited to adding flow-level simulation model for communicating devices such as switches and routers. Furthermore, we are only concerned with wired network components and concepts. 

Our contribution in this work is designing flow-level energy consumption model,  implementing it in SimGrid and validating it against NS-3 simulator. 

The rest of this thesis is organized as follow. In Chapter~\ref{chapter:background}, we first describe relevant concepts that are related to our study and then we review other proposed simulators. In Chapter~\ref{chapter:environment}, we explain about our experimental environment. Then in Chapter~\ref{chapter:methods}, we compare the advantages and disadvantages of commonly used methods that are used to study the energy consumption problem and then we outline the method that we followed. In Chapter~\ref{chapter:implementation} we present the implementation of our flow-level model and then in Chapter~\ref{chapter:evaluation} we discuss about the (in)validation experiment we conducted to evaluate the implementation. Following the validation, in Chapter~\ref{chapter:discussion}, we analyze and discuss the produced result. Finally, in Chapter~\ref{chapter:conclusions} we give concluding remarks and we also forward continuing works that interested researchers might want to follow.


